CSDN首页
首页
博客
程序员学院
下载
论坛
问答
代码
直播
电子书
Spring
 
登录/注册
会员中心
收藏
消息
创作中心
Spring MVC中的适配器模式

孤落 2018-01-21 00:52:52  2000  收藏 1
分类专栏： Web开发 文章标签： Spring 适配器模式
版权
Spring MVC中的适配器模式主要用于执行目标Controller中的请求处理方法。

适配器模式

适配器的类图如下所示：
这里写图片描述
在Spring MVC中，DispatcherServlet作为用户，HandlerAdapter作为期望接口，具体的适配器实现类用于对目标类进行适配，Controller作为需要适配的类。

为什么要在Spring MVC中使用适配器模式？Spring MVC中的Controller种类众多，不同类型的Controller通过不同的方法来对请求进行处理。如果不利用适配器模式的话，DispatcherServlet直接获取对应类型的Controller，需要的自行来判断，像下面这段代码一样：

if(mappedHandler.getHandler() instanceof MultiActionController){  
   ((MultiActionController)mappedHandler.getHandler()).xxx  
}else if(mappedHandler.getHandler() instanceof XXX){  
    ...  
}else if(...){  
   ...  
}  
1
2
3
4
5
6
7
这样假设如果我们增加一个HardController,就要在代码中加入一行 if(mappedHandler.getHandler() instanceof HardController)
这种形式就使得程序难以维护，也违反了设计模式中的开闭原则 – 对扩展开放，对修改关闭。

因此也就引入了适配器模式，来看看它是怎么运用的：

首先定义一个适配器接口：

public interface HandlerAdapter {  

    boolean supports(Object handler);

    ModelAndView handle(HttpServletRequest request, HttpServletResponse 

    response, Object handler) throws Exception;  
}
1
2
3
4
5
6
7
8
实现该接口的适配器每一个Controller都有一个适配器与之对应，这样的话，每自定义一个Controller需要定义一个实现HandlerAdapter的适配器。
这里写图片描述
如上图所示，（图可能不正确，但是足够说明问题了），适配器与Controller有对应关系，而各个适配器又都是适配器接口的实现类，因此，它们都遵循相同的适配器标准，因此用户可以按照相同的方式，通过不同的Controller去处理请求。
当然了，Spring框架中也为我们定义了一些默认的Controller对应的适配器，比如说HttpRequestHandlerAdapter用于适配HttpRequestHandler：

public class HttpRequestHandlerAdapter implements HandlerAdapter {
    public HttpRequestHandlerAdapter() {
    }

    public boolean supports(Object handler) {
        return handler instanceof HttpRequestHandler;
    }

    public ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        ((HttpRequestHandler)handler).handleRequest(request, response);
        return null;
    }

    public long getLastModified(HttpServletRequest request, Object handler) {
        return handler instanceof LastModified ? ((LastModified)handler).getLastModified(request) : -1L;
    }
}
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
当Spring容器启动后，会将所有定义好的适配器对象存放在一个List集合中，当一个请求来临时，DispatcherServlet会通过handler的类型找到对应适配器，并将该适配器对象返回给用户，然后就可以统一通过适配器的hanle()方法来调用Controller中的用于处理请求的方法。

PS：多看看源码，可以学到很多知识呀！


点赞

评论

分享

收藏
1

举报
关注
一键三连

点赞Mark关注该博主, 随时了解TA的最新博文
linux下利用/proc进行进程树的打印
02-02
在linux下利用c语言实现的进程树的打印，主要通过/proc下的目录中的进程文件，获取status中的进程信息内容，然后利用递归实现进程树的打印
Spring之AOP适配器模式
波波烤鸭的博客
 4843
  Spring架构中涉及了很多设计模式，本文来介绍下Spring中在AOP实现时Adapter模式的使用。AOP本质上是Java动态代理模式的实现和适配器模式的使用，关于这两种设计模式的具体介绍烦请参考我之前的文章 Java代理模式 Java适配器模式(adapter) 文章目录Spring中适配器模式一、AOP案例1.相关依赖2.创建目标对象3.创建通知4.配置文件5.测试二、适配器应用解...


优质评论可以帮助作者获得更高权重
表情包
Spring中的设计模式-适配器模式
向北
 1万+
适配模式的定义如下： 将一个类的接口变换成客户端所期待的另一种接口，从而使原本因接口不匹配儿无法在一起工作的两个类能够在一起工作。 看下适配器模式的类图： Spring中也有适配器模式的典型应用。 在Spring的Aop中，使用的Advice（通知）来增强被代理类的功能。Spring实现这一AOP功能的原理就使用代理模式（1、JDK动态代理。2、CGLib字节码生成技术
spring aop中应用的适配器模式
Asix
 557
spring aop框架对BeforeAdvice、AfterAdvice、ThrowsAdvice三种通知类型的支持实际上是借助适配器模式来实现的，这样的好处是使得框架允许用户向框架中加入自己想要支持的任何一种通知类型，上述三种通知类型是spring aop框架定义的，它们是aop联盟定义的Advice的子类型。 位于org.springframework.aop.framework.adap...

 

SpringMvc中使用到的适配器模式_bu123dian的专栏
12-2
这种形式就使得程序难以维护,也违反了设计模式中的开闭原则 -- 对扩展开放,对修改关闭。 因此Spring定义了一个适配接口,使得每一种Controller有一种对应的适配器实...
SpringMvc中使用到的适配器模式_shiyuehit的博客
12-19
这种形式就使得程序难以维护,也违反了设计模式中的开闭原则 -- 对扩展开放,对修改关闭。 因此Spring定义了一个适配接口,使得每一种Controller有一种对应的适配器实...
SpringMVC 处理器适配器详解
发哥微课堂
 1万+
0x00：介绍 处理器适配器 HandlerAdapter：作用是根据映射器找到的处理器 Handler 信息，按照特定的规则去执行相关的处理器 Handler。 其配置方式有两种，一种是基于 xml 的资源配置，也就是非注解的配置方式。另外一种就是基于 Annotation 注解的配置。其注解在代码中做上特殊标记，这些标记就可以编译、类加载、运行时被读取，然后去执行相应的处理。 0x01：...
好玩Spring之适配器模式在Spring中的应用
yuan882696yan的专栏
 504
​​定义​​​​​适配器模式（英语：adapter pattern）有时候也称包装样式或者包装(wrapper)。将一个类的接口转接成用户所期待的。一个适配使得因接口不兼容而不能在一起工作的类能在一起工作，做法是将类自己的接口包裹在一个已存在的类中。【来自维基百科】 类型 分为：对象适配器模式 和 类适配器模式 详细解释和具体用法可参考：《JAVA与模式》之适配器模式 Spring中的...
从SpringMVC看适配器模式_Jack 架构师之路
11-24
引言最近在读springMVC源码的时候,发现在springMVC的整个流程架构当中,适配器模式是一个非常经典的应用,当然适配模式是一个比较简单的设计模式。springMVC为什么使用...
从SpringMVC来看适配器模式_u010563350的博客
12-18
最近在看SpringMVC源码,从中看到了比较优秀的设计模式所以来分享下。 1.适配器模式(Adapter):将一个类的接口转换成客户希望的另外一个接口,Adapter模式使得原本由于...
请问JAVA中的适配器模式和策略模式的区别在哪
05-19
如题，刚刚看到适配器模式和策略模式的例题，感觉原理差不多，求解区别在哪
设计模式之适配器模式
01-28
博客：http://blog.csdn.net/qibin0506/article/details/50598359 实例代码
从SpringMVC来看适配器模式_自由_springmvc适配器模式
12-6
最近在看SpringMVC源码,从中看到了比较优秀的设计模式所以来分享下。 1.适配器模式(Adapter):将一个类的接口转换成客户希望的另外一个接口,Adapter模式使得原本由于...
SpringMVC中的适配器(适配者模式)_weixin_34176694的博客
12-14
这种形式就使得程序难以维护,也违反了设计模式中的开闭原则 -- 对扩展开放,对修改关闭。 因此Spring定义了一个适配接口,使得每一种Controller有一种对应的适配器实...
springmvc中的处理器适配器可以不配置吗？
10-20
今天学到了springmvc，然后做了一个小例子，映射器，处理器，视图解析器都配好了，唯独忘了处理器适配器。然后启动项目发现一样可以正常运行？有哪位大神了解吗？是springmvc有默认的处理器适配器
springMVC--处理器适配器
CSDN_HCX的博客
 4940
处理器适配器HandlerAdapter 1、SimpleControllerHandlerAdapter 表示所有实现了org.springframework.web.servlet.mvc.Controller接口的Bean 可以作为Spring Web MVC 中的处理器。 如果需要其他类型的处理器可以通过实现HandlerAdapter 来解决。 案例分析： (1)模拟一个h
【源码分析设计模式 10】SpringMVC中的适配器模式_素小...
12-30
把220V电压转换成手机充电时使用的电压,那么适配器是不是很好理解了,下面看一下定义。 Adapter适配器模式,将一个类的接口转换成客户希望的另外一个接口。使原本...
适配器模式及其在springmvc中的应用_关于mvc,适配器模式-其它代码...
12-18
好玩Spring之适配器模式在Spring中的应用 481​​定义​​​​​ 适配器模式(英语:adapter pattern)有时候也称包装样式或者包装(wrapper)。将一个类的...
Spring MVC 适配器
jeikerxiao
 358
适配器设计模式 适配器自然采用了适配器的设计模式。 适配器模式：将一个类的接口转换成客户希望的另一个接口。适配器模式让那些接口不兼容的类可以一起工作。 适配器模式的别名为包装器(Wrapper)模式，它既可以作为类结构型模式，也可以作为对象结构型模式。 适配器模式包含一下三个角色： Target(目标抽象类)：目标抽象类定义客户所需的接口，可以是一个抽象类或接口，也可以是具体类。 Adap...
《SpringMvc中的适配器模式》
eragon444668的博客
 1066
适配器模式是将一个接口转换成目标接口，让程序有更好的复用性和扩展性。SpringMvc中的适配器处理器HandlerAdapter就是用了这个设计模式。   HandlerAdapter是SpringMvc的处理器适配器，会根据传递过来的controller类型不同而调用不同的HandlerAdapter进行处理，也就是调用请求的方法。  HandlerAdapter处理的大致流程： Dis
解析SpringMVC源码中使用到的“适配器”模式
04-02
NULL 博文链接：https://zouruixin.iteye.com/blog/1441846
设计模式 | 适配器模式及典型应用
weixin_34257076的博客
 1760
前言 本文介绍适配器模式，源码分析spring aop, jpa, mvc中的适配器模式 推荐阅读 设计模式 | 简单工厂模式及典型应用 设计模式 | 工厂方法模式及典型应用 设计模式 | 抽象工厂模式及典型应用 设计模式 | 建造者模式及典型应用 设计模式 | 原型模式及典型应用 设计模式 | 外观模式及典型应用 设计模式 | 装饰者模式及典型应用 更多内容可访问我的个人博客：laijianfe...
随遇而安的适配器模式 | Spring 中的适配器
weixin_44742132的博客
 160
点击蓝色“JavaKeeper”关注我们加个“星标”，一起成长，做牛逼闪闪的技术人问题假设我们在做一套股票看盘系统，数据提供方给我们提供 XML 格式数据，我们获取数据用来显示，随着系...
深入分析springmvc中的处理器映射器和适配器
爱琴孩的博客
 9435
前言随着springmvc的注解功能使用，springmvc已经逐渐取代struts2成为目前比较主流的mvc框架，在springmvc中除了核心控制器DispatcherServlet这个核心组件之外，还有在springmvc中的处理器映射器和适配器，这两个组件在springmvc整个的运行流程之中扮演一个很重要的角色，至于映射器和适配器这两个组件他们的功能，我们可以这样理解，映射器主要是跟我我们
一个示例让你明白适配器模式
昨夜星辰的博客
 6万+
本文讨论适配器模式。适配器模式是23中设计模式之一，它的主要作用是在新接口和老接口之间进行适配。它非常像我们出国旅行时带的电源转换器。为了举这个例子，我还特意去京东上搜了一下电源转换器，确实看到了很多地方的标准不一样。我们国家的电器使用普通的扁平两项或三项插头，而去外国的话，使用的标准就不一样了，比如德国，使用的是德国标准，是两项圆头的插头。
netty、springboot中的适配器模式
很多时候犯错都是在不知情的情况下发生的
 1706
一般用netty来发送和接收数据都会继承SimpleChannelInboundHandler和ChannelInboundHandlerAdapter这两个抽象类，那么这两个到底有什么区别呢？ 其实用这两个抽象类是有讲究的，在客户端的业务Handler继承的是SimpleChannelInboundHandler，而在服务器端继承的是ChannelInboundHandlerAdapter。 ...
©️2020 CSDN 皮肤主题: 大白 设计师:CSDN官方博客 返回首页
关于我们
招贤纳士
广告服务
开发助手

400-660-0108

kefu@csdn.net

在线客服
工作时间 8:30-22:00
公安备案号11010502030143
京ICP备19004658号
京网文〔2020〕1039-165号
经营性网站备案信息
北京互联网违法和不良信息举报中心
网络110报警服务
中国互联网举报中心
家长监护
Chrome商店下载
©1999-2021北京创新乐知网络技术有限公司
版权与免责声明
版权申诉

孤落
码龄5年
 暂无认证
46
原创
6万+
周排名
12万+
总排名
3万+
访问

等级
854
积分
4
粉丝
10
获赞
4
评论
24
收藏
持之以恒
勤写标兵Lv1
私信
关注
搜博主文章

热门文章
MapReduce的执行流程  10151
利用Java创建带有多级目录的文件  4217
Spring MVC中的适配器模式  1995
通过java自带的工具和linux命令来分析死锁  1946
Spring MVC中的DispatcherServlet实现逻辑视图到实际视图映射的过程  1847
分类专栏

全文检索
1篇

Elasticsearch
2篇

Web开发
12篇

Java编程
4篇

Xtext Xtend
3篇

JVM
2篇

设计模式
1篇

数据结构与算法
1篇

bigdata
8篇

数据库
2篇

RPC
10篇

java
1篇

动态代理
1篇

Spring
1篇

Dubbo
1篇

最新评论
MapReduce的执行流程
栗子7: print("666")

Spring MVC中的DispatcherServlet实现逻辑视图到实际视图映射的过程
小锴的学习笔记: 请问什么是逻辑视图?

netty 入门
努力搬砖的Cris: 代码质量太差，typo太多，博主有在本地测试过吗？

MapReduce的执行流程
6581dfd: 6

最新文章
Lucene创建索引源码分析
基本数据类型和引用型数据类型的内存分布
must和should联合使用失效问题
2020年1篇2019年7篇2018年18篇2017年4篇2016年16篇

Ads by FatChilli



举报
